(function(t,e){"use strict";if(t){void 0===t.__proto__?(t.SimSwiper=e,SimSwiper):"undefined"!=typeof module?module.exports=e:t.__proto__.SimSwiper=e}else{JSwiper=e}})(this,function(j,l){"use strict";var m=j;if(!document.querySelector(j)){console.error("找不到父容器",j);return}var q=function(a){var b=null;if(typeof a==='string'){b=document.querySelector(a)}else if(a.nodeType){b=a}getStyle(b,"top");return};if(!l){var l={loop:true,duration:300,autoplay:true,easing:"ease"}}var r=function(a,b){var c=false;if(a.length){a.forEach(function(i){if(i===b){c=true;return}})}return c};var v=["visibilitychange","scroll","touchstart","transitionend","click","touchmove","touchend","mouseup","mousedown","mouseleave","mousemove","mouseout","resize","keydown"];var w=function(a,b,c,d){if(a&&typeof a==='object'){if(b&&typeof b==='string'&&r(v,b)){a.addEventListener(b,c,{passive:d||false,capture:d})}}}var z=function(a,b,c){if(a&&typeof a==='object'){if(b&&typeof b==='string'&&r(v,b)){a.removeEventListener(b,c,(/Trident/i.test(navigator.userAgent))||C())}}}var A=function(o){if(!o){return[]}var a=[];var i=0;var b=o.length;for(;i<b;i++){a.push(o[i])}return a}var B=function(b,d){var e={child:null,self:typeof b==='string'?document.querySelector(b):b,wrap:null};if(!e.self){return null}var c=e.self.children;if(e.self){for(var a=0;a<c.length;a++){var i=c[a];if(i.className===d.replace(".","")){var f=i.children;if(Array.from===undefined){e.child=A(f)}else{e.child=Array.from(f)}e.wrap=i;break}}}return e}function renderNode(a,b){if(!a&&!b){return document.createDocumentFragment()}var c=document.createElement(a);if(b){for(var k in b){c.setAttribute(k,b[k])}}return c}function is_blank(a){return!a||a.trim()===''}var C=function(){return(/Android|iPhone|iPad|X11|Mac OS X/i.test(navigator.userAgent))}var D=function(){return(/Firefox/i.test(navigator.userAgent))}var E=document.querySelector(j),g_conf=l,slider=null,page=null,duration=l&&l.duration?l.duration:300,easing=l&&l.easing?l.easing:"ease",isCube=l?l.effect&&l.effect==='cube':false,tm=B(j,".swiper-wrapper"),_wc=tm.child;var F=null,setting={index:0,width:0,height:0,num:1,duration:undefined,time:null,curIndex:0,touchX:0,position:0,prevIndex:0,offIndex:-1,loadEnd:false,prev:null,next:null,accelerate:true,timer:null,is_move:false,autoplay:function(){var a=typeof g_conf.autoplay==="number"?g_conf.autoplay:3500;F.time=setInterval(function(){F._next()},a>F.duration?a:1400)},init:function(){var a=this;this.prev=this._prev;this.next=this._next;this.lastNode=slider.lastChild;F=this;F.duration=duration;F.num=_wc.length;F.width=getStyle(E,"width");F.height=getStyle(E,"height");if(F.is_horizontal()){setStyle(slider,{width:isCube?'100%':this.width*((l&&l.loop)?_wc.length+1:_wc.length)+"px"})}else{setStyle(slider,{height:this.height*(l&&l.loop?_wc.length+1:_wc.length)+"px"})}try{w(window,"resize",function(){slider.style.transition="all 0s"})if(l&&l.button){if(l.button.prev){w(document.querySelector((m)+">"+l.button["prev"]),"click",function(){a._prev()})}if(l&&l.button.next){w(document.querySelector((m)+">"+l.button["next"]),"click",function(){a._next()},false)}if(!is_blank(l.button.prevKey)){w(document,"keydown",function(t){if(l.button.prevKey===t.key){t.preventDefault();F._prev()}else if(!is_blank(l.button.nextKey)&&t.key===l.button.nextKey){t.preventDefault()F._next()}})}}}catch(e){throw new Error(e);}if(g_conf.autoplay){F.boot()}if(!l.disabvarouch){this.touch_init()}if(g_conf.pagination&&page&&g_conf.pagination["el"]!==undefined){page.childNodes[F.curIndex].classList.add("pagination-items-active");if(g_conf.pagination["click"]&&g_conf.pagination["click"]!==false){var b=page.childNodes;var i=0;for(;i<b.length;i++){b[i].index=i;b[i].onclick=function(){F.index=F.curIndex=this.index;F.goto()}}}}if(l.init!==undefined&&typeof l.init==="function"){l.init({el:slider.childNodes[F.curIndex],index:F.curIndex})}this.add(slider.firstElementChild);if(l&&l.loop){this.add(slider.lastElementChild)}w(window,"visibilitychange",function(){document.visibilityState==="visible"?F.boot():F.stop()});this.set_default_position();if(typeof l.accelerate=='boolean'){this.accelerate=l.accelerate};return this},stop:function(){clearInterval(F.time)},boot:function(){if(g_conf&&typeof g_conf.autoplay==='boolean'&&g_conf.autoplay===false){return}if(F.time!==null){clearInterval(F.time)}F.autoplay()},children:function(e,f){if(!e){return}var g=[];function deep(a){var c=a?a.children:e.children;for(var b=0;b<c.length;b++){var d=c[b];if(d&&d.tagName.toLowerCase()===f){g.push(d)}else if(d){deep(d)}}}deep();return g},add:function(h){if(F.loadEnd){return}if(!h){return}else{var t=null;clearTimeout(t);t=setTimeout(function(){var a=F.children(h,"img");if(a){for(var i=0;i<a.length;i++){var b=a[i];try{var c=b.getAttribute('src');if(!c){var d=l.lazy.prop||'data-src';var f=b.getAttribute(d);b.setAttribute('src',f);b.removeAttribute(d);b.classList.remove('lazy')}}catch(e){console.error(e);void(e)}}h.classList.remove('lazy')var g=m+">.swiper-wrapper .lazy";var y=document.querySelectorAll(g).length;if(y<=0){F.loadEnd=true}}},Math.min((l.duration||0),100))}},_prev:function(){var _=this;_.index--;_.slide_to()},_next:function(){var _=this;_.index++;_.slide_to()},play:function(){var _=this;_.curIndex=_.index===_.num?0:_.index;var a=slider.childNodes;var c=a[F.curIndex];var b={curNodes:[],siblings:[],curIndex:_.curIndex};if(page){var d=page.childNodes;if(l.pagination&&page&&l.pagination.el){var i=0;for(;i<d.length;i++){if(i===F.curIndex){b.curNodes.push(a[_.curIndex]);if(_.curIndex===0){b.curNodes.push(slider.lastChild)}d[i].classList.add("pagination-items-active")}else{d[i].classList.remove("pagination-items-active");b.siblings.push(a[i])}}}}if(l.lazy||Object.keys(l.lazy.length!==0)){_.add(c)}if(l&&l.on&&typeof l.on.change==='function'){_.timer=setTimeout(function(){l.on.change(b);clearTimeout(_.timer)},_.duration)}},css:function(a,b,c){if(!a||!b){return}setStyle(a,b);if(c&&typeof c==='function'){c()}},slide_to:function(){var a=this;var b;if(a.index===a.num+1){if(l.loop){b=0;a.transform(b,0)}a.index=1;q(m)}else if(a.index<0){if(l.loop){b=a.is_horizontal()?a.num*a.width:a.num*a.height a.transform(b,0)}a.index=a.num-1;q(m)}a.duration=duration;b=a.is_horizontal()?a.index*a.width:a.index*a.height a.transform(b,a.duration);F.setPosition();return a},is_horizontal:function(){return!l.direction||l.direction.toLowerCase()==='horizontal'},set_default_position:function(){this.goto()},goto:function(){var a=this.index*(this.is_horizontal()?this.width:this.height);this.transform(a,l.duration||300),this.position=a},transform:function(x,a){var t=this;var b=null;if(t.accelerate){var c=t.is_horizontal()?"translate3d("+(-x)+"px,0px,0px)":"translate3d(0px,"+(-x)+"px,0px)"_prop={transform:c,position:'absolute',left:0,top:0,backfaceVisibility:'hidden',transition:"all "+a+"ms "+easing,}}else{b={transform:"translate3d(0px,0px,0px)",position:'absolute',backfaceVisibility:'hidden',transition:"all "+a+"ms "+easing,}b[t.is_horizontal()?'left':'top']=-x+"px"}t.css(slider,b);t.play()},touch_init:function(){if(C()){w(slider,"touchstart",F.start,false);w(document,"touchend",F.end,false)}else{w(slider,"mousedown",F.start,false);w(slider,"mouseleave",F.stop,false);w(document,"mouseup",F.end,false)}},link_handler:function(b){var a=F.children(slider,"a");for(var c in a){if(typeof a[c]==="object"){if(b){a[c].onclick=function(e){e.preventDefault()}}else{a[c].onclick=function(){return void(undefined)}}}}},set_drab:function(b){setStyle(slider,{cursor:b?"grab":"default"})},checked:function(n){return!(Math.floor(n)===-1)},start:function(e){if(!e){return}F.stop();if(D()){e.preventDefault()}var a=e.touches?e.touches.length-1:0;F.touchX=F.is_horizontal()?(e.clientX||e.targetTouches[a].clientX):(e.clientY||e.clientY||e.targetTouches[a].clientY);if(C()){w(this,"touchmove",F.move,false)}else{e.preventDefault();w(document,"mousemove",F.move,false);F.link_handler(false)}F.set_drab(true)},move:function(e){try{e.preventDefault();var x=F.is_horizontal()?(e.clientX||(e.touches?e.targetTouches[0].clientX:0)):(e.clientY||(e.touches?e.targetTouches[0].clientY:0));var a=x-F.touchX-F.position;var b=(F.is_horizontal()?F.width:F.height)var t,per=(x-F.touchX)/b;if(F.checked(per)){t=-b/10}else{t=b+100}if(F.min(x)){var u=Math.abs(parseInt((a-t)/b));if(u>F.num){F.index=F.num}else{F.index=u}F.link_handler(true)}var p=Math.abs(a)>=F.num*b;if(p){F.position=0;F.index=0;F.transform(0,0,0)}else if(a>0){F.position=F.num*b;F.transform(F.position,0,0);F.index=F.num}else{F.transform(-a,0)}}catch(er){F.transform(-a,0);void er}},end:function(){F.transform(F.index*(F.is_horizontal()?F.width:F.height),l.duration||300);F.prevIndex=F.index;F.setPosition();z(slider,"touchmove",F.move);z(document,"mousemove",F.move);z(slider,"mousemove",F.move);F.set_drab(false);F.boot()},min:function(x){var c=Math.abs(x-this.touchX);return c>=5},setPosition:function(){this.position=this.index*(this.is_horizontal()?this.width:this.height)},};var G=null;(function(){var a=undefined;if(arguments.length!==2){j=".simple-swiper-container"}else{g_conf=l}var b=renderNode("div",{"class":"swiper-wrapper"}),a=renderNode(),_slider=renderNode("div",{"class":"swiper-slider"}),_ew=getStyle(E,'width');if(!_wc){return}try{for(var s in _wc){var c=_wc[s];if(setting.is_horizontal()){setStyle(c,{width:_ew+'px',height:'100%',float:'left'})}else{setStyle(c,{width:_ew+'px',height:getStyle(E,'height')+'px',})}c.classList.add('lazy');a.appendChild(c)}}catch(e){void(e)}if(l.loop){var d=_wc[0].cloneNode(true);a.appendChild(d)}_slider.appendChild(a);b.appendChild(_slider);E.replaceChild(b,tm.wrap);slider=_slider;page=document.querySelector(l&&l.pagination?l.pagination.el:null);if(page){if(l.pagination&&l.pagination.el){var f=tm.child.length,vo=renderNode(),p=0;for(;p<f;p++){var g=renderNode("span",{"class":"pagination-items"});vo.appendChild(g)}page.appendChild(vo)}}G=setting.init()})();function setStyle(a,b){try{if(!a||!b){return}for(var c in b){a.style[c]=b[c]}}catch(err){void(err)}}function getStyle(a,b){return Math.ceil(parseFloat(window.getComputedStyle(a)[b]))||a.getBoundingClientRect()[b]};return G});
